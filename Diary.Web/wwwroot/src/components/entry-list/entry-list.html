<div class="entry-list-container">

    @if (entriesEmpty()) {
    <div class="list-empty-message">
        no entries to show
    </div>
    }

    @for (yearKv of (yearMap() | keyvalue: ascOrder); track yearKv.key) {
    <div class="year-group">
        <div class="year-header" (click)="toggleYear(yearKv.key, $event)" [class.expanded]="expandedYear() === yearKv.key">
            {{ yearKv.key }}
            <span class="chevron">â€º</span>
        </div>
        
        @if (expandedYear() === yearKv.key) {
        <div class="dates-container">
            @for (dateKv of (yearKv.value | keyvalue: ascOrder); track dateKv.key) {
            <div class="date-item" (click)="selectDate(dateKv.key, $event)" [class.selected]="isSelected(dateKv.key)">
                <span class="date-text">{{ dateKv.key | date:'mediumDate' }}</span>
                <span class="entry-count-badge">{{ dateKv.value.length }}</span>
            </div>
            }
        </div>
        }
    </div>
    }
</div>